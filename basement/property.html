<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ–º–µ—â–µ–Ω–∏–µ</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
<div class="container">

  <div class="property-header">
    <button class="back-btn" id="backBtn">‚Üê</button>
    <button onclick="shareProperty()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
  </div>

  <div class="property-slider">
    <img id="sliderImage" src="">
    <button class="slider-btn prev" onclick="prevImage()">‚Äπ</button>
    <button class="slider-btn next" onclick="nextImage()">‚Ä∫</button>
  </div>

  <div class="property-page-content">
    <div class="property-page-title" id="title"></div>
    <div class="property-page-address" id="address"></div>
    <div class="property-page-description" id="description"></div>
    <div class="property-page-price" id="price"></div>
  </div>

</div>

<script>


const backBtn = document.getElementById("backBtn");

backBtn.addEventListener("click", () => {
  // –µ—Å–ª–∏ –µ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—è ‚Äî –∏–¥—ë–º –Ω–∞–∑–∞–¥
  if (window.history.length > 1) {
    window.history.back();
  } else {
    // –µ—Å–ª–∏ –∏—Å—Ç–æ—Ä–∏–∏ –Ω–µ—Ç ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ id
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    let fallback = "/index.html";

    if (id?.startsWith("basement")) fallback = "/basement/basement.html";
    if (id?.startsWith("floor")) fallback = "/first-floor/first-floor.html";
    if (id?.startsWith("shop")) fallback = "/shops/shops.html";

    window.location.href = fallback;
  }
});



const properties = {
  "basement-1": {
    title: "–ü–æ–¥–≤–∞–ª—å–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ 45 –∫–≤.–º.",
    address: "üìç —É–ª. –í–æ–ª–æ–∫–æ–ª–∞–º—Å–∫–∏–∏ÃÜ –ø—Ä 6 –∫1",
    description: "–°—É—Ö–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ, –ø–æ—Ç–æ–ª–∫–∏ 2.5 –º. –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥ —Å–∫–ª–∞–¥ –∏–ª–∏ —Å—Ç—É–¥–∏—é.",
    price: "25 000 ‚ÇΩ / –º–µ—Å",
    images: [
      "../images/Volokolamsky_pr_6_k1/Volokolamsky_pr_6_k1_1.jpg",
  "../images/Volokolamsky_pr_6_k1/Volokolamsky_pr_6_k1_2.jpg",
  "../images/Volokolamsky_pr_6_k1/Volokolamsky_pr_6_k1_3.jpg",
  "../images/Volokolamsky_pr_6_k1/Volokolamsky_pr_6_k1_4.jpg"
    ]
  }
};

const params = new URLSearchParams(window.location.search);
const id = params.get("id");
const item = properties[id];

let index = 0;

document.getElementById("title").innerText = item.title;
document.getElementById("address").innerText = item.address;
document.getElementById("description").innerText = item.description;
document.getElementById("price").innerText = item.price;
document.getElementById("sliderImage").src = item.images[0];

function nextImage() {
  index = (index + 1) % item.images.length;
  document.getElementById("sliderImage").src = item.images[index];
}

function prevImage() {
  index = (index - 1 + item.images.length) % item.images.length;
  document.getElementById("sliderImage").src = item.images[index];
}

function shareProperty() {
  const url = window.location.href;
  if (navigator.share) {
    navigator.share({ title: item.title, url });
  } else {
    navigator.clipboard.writeText(url);
    alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞");
  }
}
</script>

<footer class="site-footer">
  <div class="footer-social">
    <a href="https://t.me/snowbobr" target="_blank" aria-label="Telegram">
      <svg viewBox="0 0 24 24">
        <path d="M9.04 15.44l-.38 5.36c.55 0 .79-.24 1.08-.52l2.6-2.47 5.39 3.94c.99.55 1.7.26 1.95-.91l3.54-16.6c.31-1.45-.52-2.02-1.49-1.66L1.15 9.77c-1.4.55-1.38 1.34-.24 1.69l5.36 1.67L18.6 6.42"/>
      </svg>
    </a>
  </div>

  <a href="tel:+79265524725" class="footer-phone">
    +7 (926) 552-47-25
  </a>
</footer>


</body>
</html>


