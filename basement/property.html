<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ–º–µ—â–µ–Ω–∏–µ</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>

<div class="property-header">
  <button class="back-btn" onclick="history.back()">‚Üê</button>
  <button class="share-btn" onclick="shareProperty()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
</div>

<div class="property-slider">
  <img id="sliderImage" src="../images/Frame2.png">
</div>

<div class="property-page-content">
  <div class="property-page-title" id="title"></div>
  <div class="property-page-address" id="address"></div>
  <div class="property-page-description" id="description"></div>
  <div class="property-page-price" id="price"></div>
</div>

<footer class="site-footer">
  <div class="footer-social">
    <a href="https://t.me/snowbobr" target="_blank">
      <svg viewBox="0 0 24 24">
        <path d="M9.04 15.44l-.38 5.36c.55 0 .79-.24 1.08-.52l2.6-2.47 5.39 3.94c.99.55 1.7.26 1.95-.91l3.54-16.6c.31-1.45-.52-2.02-1.49-1.66L1.15 9.77c-1.4.55-1.38 1.34-.24 1.69l5.36 1.67L18.6 6.42"/>
      </svg>
    </a>
  </div>
  <a href="tel:+79265524725" class="footer-phone">
    +7 (926) 552-47-25
  </a>
</footer>

<script>
const API_URL = "http://147.45.212.213:3001/objects";

const params = new URLSearchParams(window.location.search);
const id = params.get("id");

async function loadProperty() {
  const res = await fetch(`${API_URL}/${id}`);
  const obj = await res.json();

  document.getElementById("title").innerText = obj.title;
  document.getElementById("address").innerText = "üìç " + obj.address;
  document.getElementById("description").innerText = obj.description;
  document.getElementById("price").innerText =
    Number(obj.price).toLocaleString() + " ‚ÇΩ";
}

function shareProperty() {
  const url = window.location.href;
  navigator.clipboard.writeText(url);
  alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞");
}

loadProperty();
</script>

</body>
</html>
